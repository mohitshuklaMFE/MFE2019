# Problem Set 3
Name: Mohit Shukla
Date: 5th Mar 2019

## Question 1
Using CRSP stock data, define the universe of monthly returns that can be used in calculating momentum portfolios, as well as their ranking return, following the procedure in Daniel and Moskowitz (2016). Your output should be from 1927-2018.

Before calculating the portfolio time series, I conduct a series of data cleaning as part of my PS Q1 function. Next, I describe my data cleaning process and their respective assumptions:
	Universe of stocks: Following Daniel-Moskowitz methodology, I restrict the sample to common shares (share codes 10 and 11) and to securities traded in the New York Stock Exchange, American Stock Exchange, or the Nasdaq Stock Exchange (exchange codes 1, 2, and 3).
	Market Capitalization calculation: I calculate the total market cap of the stocks on the previous date to calculate lag_market_cap, by multiplying the last months’ Price of the stock with the last months’ shares outstanding. To get the market cap in millions, the product is divided by 1000 as the number of shares outstanding is in thousands. For dates where either Price or Shares Outstanding are missing, the rows are removed to prevent any distortion of data
	Missing returns: Wherever the returns are missing, it is either the month of listing, or the month where the stock is listed. In such case, the returns are set as 0. The delisting returns are available in the last month for a stock, and the missing values everywhere else is set as 0.

Log Return calculation: The log returns are calculated as
$\ r_{new}=log\left(1+r_{DEL}\right)+log\left(1+r_{RET}\right) $
	Ranking Returns: The ranking returns are calculated by taking the sum of log returns for months t-12 to t-2. All dates where returns for t-13 are not available are removed.
	Sample period: The sample period has been selected from Dec-1925 to Dec-2018, which allows me to generate lag Market Cap and Ranking Returns data from Jan-1927 onwards.


## Question 2
Define the monthly momentum portfolio decile of each stock as defined by both Daniel and Moskowitz (2016) and Kenneth R. French. Your output should be from 1927-2018.
The monthly momentum portfolio deciles are generated by using the output from previous question. The data cleaning and value generation is as follows:
	DM Decile: The DM decile are generated by grouping the stock returns in deciles.
	KRF Decile: The KRF decile are generating by finding the breakpoints using only NYSE returns, and then using these breakpoints to put stocks in each decile.

## Question 3
Calculate the monthly momentum portfolio decile returns as defined by both Daniel and Moskowitz (2016) and Kenneth R. French. Your output should be from 1927-2018.
The decile returns are calculated using the weighted average return for each decile, where the weight is the lag market cap for each stock. The risk-free return is taken from the Fama-French data.

## Question 4
Replicate Table 1 in Daniel and Moskowitz (2016), except for α, t(α), β, and sk(d) rows, and the Market column. Match the format and methodology to the extent possible.
The input for this case is the resulting file generated above. The output comparison is given in the following table
Table1: Summary Statistics
	Decile 1	Decile 2	Decile 3	Decile 4	Decile 5	Decile 6	Decile 7	Decile 8	Decile 9	Decile 10	WML 
r_rf	0.0338	0.0422	0.0416	0.0710	0.0778	0.0791	0.0968	0.1096	0.1237	0.1771	0.1434 
sd	0.3502	0.2866	0.2499	0.2200	0.2061	0.1977	0.1899	0.1870	0.2002	0.2369	0.2810 
SR	0.0965	0.1473	0.1665	0.3225	0.3774	0.4000	0.5099	0.5860	0.6177	0.7477	0.5103 
sk	0.3018	0.1098	0.0708	0.2958	0.0633	0.0046	-0.6058	-0.4651	-0.6774	-0.6894	-2.0611

Comparing from the file, we see the results are very close. The small difference is due to the difference in time period (this is till end of 2018), while the paper covers it till 2013.

## Question 5
Calculate the correlation of your portfolio returns with the Daniel and Moskowitz (2016) breakpoints (by decile), to the portfolio returns on Daniel's website. Also calculate the correlation of your portfolio returns with the Kenneth R. French breakpoints (by decile), to the portfolio returns on French's website. Round to 4 decimal places. Correlations should be calculated from 1927-2018.
The input for this case is the resulting file generated in Q3. The output comparison is given in the following table
Table2: Correlation
	Decile 1	Decile 2	Decile 3	Decile 4	Decile 5	Decile 6	Decile 7	Decile 8	Decile 9	Decile 10	WML 
DM_correlation	0.9809	0.9860	0.9913	0.9911	0.9928	0.9953	0.9940	0.9964	0.9961	0.9957	0.9714 
KRF_correlation	0.9831	0.9856	0.9880	0.9876	0.9881	0.9899	0.9913	0.9927	0.9939	0.9944	0.9749

As we can see from the above table, the correlations are very close to 1. The difference can be due to the decile selection or the rounding of the returns for each month.

## Question 6
Has the momentum anomaly worked in the past few years? Show some empirical evidence.
The momentum anomaly, over the past few years has seem to not worked. We can compare by looking at the average WML returns here vs the average WML returns in the paper. Since the WML returns here are lower that the return reported in the paper, it appears that the momentum portfolio has underperformed in the last 5 years.

## Question 7
Would you implement this trading strategy if you were running your own fund? What are the main implementation challenges to consider?
The strategy can be implemented, but since this is a highly levered strategy, it is advised to be cautious about the portfolio VaR. Also, looking at the historical data, we can possibly look at the rolling returns to identify the advantage of this strategy.

